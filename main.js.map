{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/oauth.service.ts","webpack:///./src/app/time-since.pipe.ts","webpack:///./src/app/token/token.component.css","webpack:///./src/app/token/token.component.html","webpack:///./src/app/token/token.component.ts","webpack:///./src/app/upload-form/upload-form.component.css","webpack:///./src/app/upload-form/upload-form.component.html","webpack:///./src/app/upload-form/upload-form.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\"","module.exports = \"<app-upload-form></app-upload-form>\\r\\n<router-outlet></router-outlet>\"","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { RouterModule, Routes } from '@angular/router';\n\nimport { AppComponent } from './app.component';\nimport { environment } from '../environments/environment';\nimport { UploadFormComponent } from './upload-form/upload-form.component';\nimport { TokenComponent } from './token/token.component';\n\nimport { TimeSincePipe } from './time-since.pipe';\n\nconst appRoutes: Routes = [\n  { path: 'token', component: TokenComponent },\n  { path: '**',\n    redirectTo: '/',\n    pathMatch: 'full'\n  },\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    UploadFormComponent,\n    TokenComponent,\n    TimeSincePipe\n  ],\n  imports: [\n    BrowserModule,\n    AngularFireModule.initializeApp(environment.firebaseConfig),\n    AngularFireDatabaseModule,\n    RouterModule.forRoot(\n      appRoutes\n    ),\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\nimport { OAuth } from './oauth.model';\nimport { AngularFireDatabase, AngularFireObject } from 'angularfire2/database';\n\n@Injectable()\nexport class OAuthService {\n  authObj: AngularFireObject<any>;\n  constructor(private firebase: AngularFireDatabase) { }\n\n  getAuthData() {\n    this.authObj = this.firebase.object('oauth');\n    return this.authObj;\n  }\n\n  insertAuthData(oauth: OAuth) {\n    this.authObj.set(oauth);\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\r\n@Pipe({name: 'timeSince'})\r\nexport class TimeSincePipe implements PipeTransform {\r\n  transform(value: string): string {\r\n    let date: any = new Date(value);\r\n    let current: any = new Date();\r\n    let seconds = Math.floor((current - date) / 1000);\r\n    if (seconds < 5) {\r\n        return 'Vừa xong';\r\n    } else if (seconds < 60) {\r\n        return seconds + ' giây trước';\r\n    } else if (seconds < 3600) {\r\n        let minutes = Math.floor(seconds/60)\r\n        if (minutes > 1) {\r\n          return minutes + ' phút trước';\r\n        } else {\r\n          return '1 phút trước';\r\n        }\r\n    } else if (seconds < 86400) {\r\n        let hours = Math.floor(seconds/3600)\r\n        if (hours > 1) {\r\n          return hours + ' giờ trước';\r\n        } else {\r\n          return '1 giờ trước';\r\n        } \r\n    } else if (seconds < 172800) {\r\n        let days = Math.floor(seconds/86400)\r\n        if (days > 1) {\r\n          return days + ' ngày trước';\r\n        } else {\r\n          return '1 ngày trước';\r\n        }\r\n    } else {\r\n        return date.getDate().toString() + '-' + (date.getMonth() + 1) + '-' + date.getFullYear();\r\n    }\r\n  }\r\n}\r\n","module.exports = \"\"","module.exports = \"\"","import { Component, OnInit } from '@angular/core';\nimport { OAuthService } from '../oauth.service';\nimport { OAuth } from '../oauth.model';\n@Component({\n  selector: 'app-token',\n  templateUrl: './token.component.html',\n  styleUrls: ['./token.component.css'],\n  providers: [OAuthService]\n})\nexport class TokenComponent implements OnInit {\n\n  access_token = '';\n  expires_in = '';\n  refresh_token = '';\n  client_id = '3a349709bbe2f2b';\n  client_secret = 'e11eec75929fbd10305e02aeb5db1f806249deac';\n  oauthInfo: any;\n  constructor(private oauthService: OAuthService) {}\n\n  ngOnInit() {\n    this.access_token = this.extractParam('access_token');\n    this.expires_in = this.extractParam('expires_in');\n    this.refresh_token = this.extractParam('refresh_token');\n    this.oauthService.getAuthData();\n    if (this.access_token && this.expires_in && this.refresh_token) {\n      this.storageAccessToken();\n    }\n  }\n\n  storageAccessToken() {\n    const oauth: OAuth = {\n      access_token : this.access_token,\n      expires_in : this.expires_in,\n      refresh_token : this.refresh_token\n    };\n    this.oauthService.insertAuthData(oauth);\n  }\n\n  extractParam(param) {\n    var regex = new RegExp(param + '=(\\\\w+)');\n    let match = document.location.hash.match(regex);\n    return !!match && match[1];\n  }\n}\n","module.exports = \".main-wrap {\\r\\n  width: 50%;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\n.box-shadow {\\r\\n  box-shadow: 0px 0px 27px 0px rgba(0,0,0,0.75);\\r\\n}\\r\\n\\r\\n.upload {\\r\\n  margin-top: 40px;\\r\\n  margin-bottom: 30px;\\r\\n}\\r\\n\\r\\n@media only screen and (max-width: 640px) {\\r\\n  .main-wrap {\\r\\n    width: 100%;\\r\\n  }\\r\\n}\\r\\n\\r\\n.input-group{\\r\\n  width: 70%;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\n.history h3{\\r\\n  padding-left: 10px;\\r\\n}\\r\\n\\r\\n.upload .progress {\\r\\n  border-radius: 0;\\r\\n  display: none;\\r\\n}\"","module.exports = \"<div class=\\\"container\\\">\\n    <div class=\\\"main-wrap box-shadow upload\\\">\\n        <input type=\\\"file\\\" class=\\\"dropify\\\" data-allowed-file-extensions=\\\"jpg jpeg png gif\\\" data-max-file-size=\\\"3M\\\" (change)=\\\"fileChange($event.target.files)\\\" />\\n        <div class=\\\"progress\\\">\\n            <div class=\\\"progress-bar progress-bar-striped active\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"40\\\" aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width:100%\\\">\\n              Đang tải lên ...\\n            </div>\\n          </div>\\n    </div>\\n    \\n    <div class=\\\"main-wrap\\\" *ngIf=\\\"historyUpload.length > 0\\\">\\n        <h4>Tải lên gần đây:</h4>\\n        <div class=\\\"history table-responsive\\\">\\n            <table class=\\\"table table-hover\\\">\\n              <thead>\\n                <tr>\\n                  <th class=\\\"text-center\\\">Hình ảnh</th>\\n                  <th class=\\\"text-center\\\">Liên kết</th>\\n                  <th class=\\\"text-center\\\">Thời gian</th>\\n                </tr>\\n              </thead>\\n              <tbody>\\n                <tr *ngFor=\\\"let history of historyUpload\\\">\\n                  <td class=\\\"text-center\\\">\\n                    <img src=\\\"{{ history.link }}\\\" width=\\\"100px\\\"/>\\n                  </td>\\n                  <td class=\\\"text-center\\\">\\n                      <div class=\\\"input-group\\\">\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" #hlink value=\\\"{{ history.link }}\\\">\\n                        <div class=\\\"input-group-btn\\\">\\n                          <button class=\\\"btn btn-default btn-copy\\\" type=\\\"button\\\" (click)=\\\"copyToClipboard(hlink)\\\">\\n                            Copy\\n                          </button>\\n                        </div>\\n                      </div>\\n                  </td>\\n                  <td class=\\\"text-center\\\">{{ history.datetime | timeSince }}</td>\\n                </tr>\\n              </tbody>\\n            </table>\\n          </div>\\n    </div>\\n    \\n    \\n  <!-- <h1>Upload</h1>\\n  <button (click)=\\\"openInput()\\\">\\n    Select File to Upload\\n</button>\\n<input id=\\\"fileInput\\\" hidden type=\\\"file\\\" (change)=\\\"fileChange($event.target.files)\\\" >\\n</div>\\n<a href=\\\"https://api.imgur.com/oauth2/authorize?response_type=token&client_id=5da1d9888a8c682\\\">Get Tk</a> -->\\n</div>\"","import { Component, OnInit } from '@angular/core';\nimport { OAuthService } from '../oauth.service';\ndeclare var $: any;\n@Component({\n  selector: 'app-upload-form',\n  templateUrl: './upload-form.component.html',\n  styleUrls: ['./upload-form.component.css'],\n  providers: [OAuthService]\n})\nexport class UploadFormComponent implements OnInit {\n\n  selectFiles: File;\n  historyUpload = [];\n  oauthInfo: any;\n  drError = false;\n  constructor(private oauthService: OAuthService) {}\n\n  ngOnInit() {\n    let x = this.oauthService.getAuthData();\n    x.snapshotChanges().subscribe(item => {\n      this.oauthInfo = item.payload.toJSON();\n    });\n\n    let drEvent = $('.dropify').dropify({\n        messages: {\n          'default': 'Kéo thả hình ảnh vào đây hoặc click',\n          'replace': 'Kéo thả hình ảnh hoặc click để thay đổi',\n          'remove':  'Xóa',\n          'error':   'Ồ shit, bị cái mọe gì vậy nhỉ.'\n        },\n        error: {\n            'fileSize': 'Dung lượng hình quá lớn (tối đa {{ value }}).',\n            'imageFormat': 'Định dạng không cho phép (chỉ {{ value }}).'\n        }\n    });\n    drEvent.on('dropify.errors', (event, element) => {\n      this.drError = true;\n    });\n    this.historyUpload = this.getHistoryUpload().reverse();\n  }\n\n  fileChange(files: File[]) {\n    if (files.length > 0) {\n      this.selectFiles = files[0];\n      const r = new FileReader();\n      const self = this;\n      r.onloadend = function(e) {\n        let base64Str = r.result;\n        base64Str = base64Str.replace(/.*,/, '');\n        self.upload(base64Str);\n      };\n      r.readAsDataURL(this.selectFiles);\n    }\n  }\n\n  upload(base64) {\n    if (this.drError) {\n      this.drError = false;\n      return;\n    }\n    $('.upload .progress').fadeIn();\n    $.ajax({\n      url: 'https://api.imgur.com/3/image',\n      method: 'POST',\n      headers: {\n        Authorization: 'Bearer ' + this.oauthInfo.access_token,\n        Accept: 'application/json'\n      },\n      data: {\n        image: base64,\n        type: 'base64'\n      },\n      success: function(result) {\n        $('.upload .progress').fadeOut();\n        this.setHistoryUpload(result.data);\n        this.historyUpload = this.getHistoryUpload().reverse();\n      }.bind(this)\n    });\n  }\n\n  setHistoryUpload(data) {\n    const d = new Date();\n    const hdata = {\n      datetime: d,\n      link: data.link,\n      id: data.id\n    };\n    let history = this.getHistoryUpload();\n    history.push(hdata);\n    localStorage.history = JSON.stringify(history.slice(-5));\n  }\n\n  getHistoryUpload() {\n    if (localStorage.history) {\n      let history = JSON.parse(localStorage.history);\n      return history;\n    }\n    return [];\n  }\n\n  copyToClipboard(element) {\n    element.select();\n    document.execCommand('copy');\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: true,\n  firebaseConfig: {\n    apiKey: \"AIzaSyDLNxi3CnKSHk2ir8fjmLEfx7GxufwLqvQ\",\n    authDomain: \"imgur-upload.firebaseapp.com\",\n    databaseURL: \"https://imgur-upload.firebaseio.com\",\n    projectId: \"imgur-upload\",\n    storageBucket: \"\",\n    messagingSenderId: \"793597820346\"\n  }\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}